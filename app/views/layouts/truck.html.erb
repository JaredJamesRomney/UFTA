<!DOCTYPE html>
<html>
  <head>
    <script src="https://use.fontawesome.com/e3cf88e5c9.js"></script>
    <title><%= @page_title %></title>
    <%= csrf_meta_tags %>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="keywords" content="<%= @seo_keywords %>" />

    <%= stylesheet_link_tag    'trucks', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <%= favicon_link_tag 'favicon.ico' %>

    <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAPS_API_KEY'] %>&v=3.exp&libraries=places"></script>

    
    <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
    <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->
  </head>

  <body>

    <%= render 'shared/application_nav' %>

    <%= alerts_helper %>

    <%= yield %>


    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        <p><%= copyright_generator %></p>
      </div>
    </footer>

    <a id="scrollToTop" href="javascript:;" class="btn btn-outline-primary back-to-top" role="button" title="Click to return to the top" data-toggle="tooltip" data-placement="left"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>

    <script type="text/javascript">
      $('#scrollToBottom').on("click", function () {
        $('html, body').animate({ scrollTop: $(document).height() }, "slow");
        return false;
      });
      $('#scrollToTop').on("click", function () {
        $('html, body').animate({ scrollTop: 0 }, "slow");
        return false;
      });
    </script>

    <script type="text/javascript">
      $(document).ready(function(){
        $(window).scroll(function () {
          if ($(this).scrollTop() > 50) {
            $('.back-to-top').fadeIn();
          } else {
            $('.back-to-top').fadeOut();
          }
        });
        // scroll body to 0px on click
        $('.back-to-top').click(function () {
          $('.back-to-top').tooltip('hide');
          $('body,html').animate({
            scrollTop: 0
          }, 800);
          return false;
        });
        
        $('.back-to-top').tooltip('show');

      });
    </script>
 
  </body>
</html>
